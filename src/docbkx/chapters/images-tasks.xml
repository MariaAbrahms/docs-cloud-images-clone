<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE application [<!ENTITY % common  SYSTEM "../../common/common.ent">
%common;]>

<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="image-tasks">
    <title>Asynchronous image tasks</title>
    <?dbhtml stop-chunking?>
    <para>A <glossterm baseform="Image Task">image task</glossterm> is a request to perform an asynchronous image-related
        operation, such as importing or exporting an image. The request results in the creation of a disposable task resource
        that can be polled for information about the status of the operation.</para>
    <para>Once you initiate an image import or export, poll the status of the created task using <phrase condition="dev"
                ><olink targetdoc="ci-devguide" targetptr="GET_getTask_tasks__taskID__Image_Task_Calls"
                >"GET_getTask_tasks__taskID__Image_Task_Calls"</olink></phrase>
        <phrase condition="gs">
            <link xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/GET_getTask_tasks__taskID__Image_Task_Calls.html">
                        Section 4.4.2. "Get Task Details"</link>
            of the &CImDG;</phrase>. When the task resource reaches a final status of <literal>success</literal> or
            <literal>failure</literal>, the poll response will include an expiration date and time stamp. After that
        expiration time, the disposable task resource itself expires and is subject to deletion. However, the result of the
        task, such as an imported or exported image, does not expire.</para>
    <note>
        <para>Tasks in the &CImA; conform to the uniform task interface provided by the OpenStack Images v2 API for all
            OpenStack installations, with each task resource containing both <parameter>input</parameter> and
                <parameter>result</parameter> parameters. The API design allows individual providers, like Rackspace, to
            easily customize these two parameters. </para>
        <para>The <olink condition="dev" targetdoc="ci-devguide" targetptr="POST_importImage_tasks_Image_Task_Calls"
                >"POST_importImage_tasks_Image_Task_Calls"</olink>
            <link condition="gs" xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/POST_importImage_tasks_Image_Task_Calls.html">
                        Section 4.4.3. "Task to Import Image"</link>
            , and <olink condition="dev" targetdoc="ci-devguide" targetptr="POST_exportImage_tasks_Image_Task_Calls"
                >"POST_exportImage_tasks_Image_Task_Calls"</olink>
            <link condition="gs" xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/POST_exportImage_tasks_Image_Task_Calls.html">
                        Section 4.4.4. "Task to Export Image"</link>
                operations<phrase condition="gs"> of the &CImDG;</phrase> describe what Rackspace requires for these
            parameters.</para>
    </note>
    <para>To import an image, execute the following steps. <orderedlist>
            <listitem>
                <para>Put the image into your Cloud Files account.</para>
            </listitem>
            <listitem>
                <para>Submit the asynchronous import request using <phrase condition="dev"><olink targetdoc="ci-devguide"
                            targetptr="POST_importImage_tasks_Image_Task_Calls"
                            >"POST_importImage_tasks_Image_Task_Calls"</olink></phrase>
                    <phrase condition="gs">
                        <link xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/POST_importImage_tasks_Image_Task_Calls.html">
                        Section 4.4.3.. "Task to Import Image"</link>
                        of the &CImDG;</phrase>.</para>
            </listitem>
            <listitem>
                <para>The &CImS; begins the process of fetching the image from your cloud storage and creating a new image
                    for you. This activity takes some time.</para>
            </listitem>
            <listitem>
                <para>Poll the task status using <phrase condition="dev"><olink targetdoc="ci-devguide"
                            targetptr="GET_getTask_tasks__taskID__Image_Task_Calls"
                            >"GET_getTask_tasks__taskID__Image_Task_Calls"</olink></phrase>
                    <phrase condition="gs">
                        <link xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/GET_getTask_tasks__taskID__Image_Task_Calls.html">
                        Section 4.4.2. "Get Task Details"</link>
                        of the &CImDG;</phrase> until the task completes.</para>
            </listitem>
        </orderedlist>
    </para>
    <para>To export an image, execute the following steps.<orderedlist>
            <listitem>
                <para> Determine the UUID of the image you want to export.</para>
            </listitem>
            <listitem>
                <para>Submit the export request using <phrase condition="dev"><olink targetdoc="ci-devguide"
                            targetptr="POST_exportImage_tasks_Image_Task_Calls"
                            >"POST_exportImage_tasks_Image_Task_Calls"</olink></phrase>
                    <phrase condition="gs">
                        <link xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/POST_exportImage_tasks_Image_Task_Calls.html">
                        Section 4.4.4. "Task to Export Image"</link>
                        of the &CImDG;</phrase>.</para>
            </listitem>
            <listitem>
                <para>The &CImS; begins to process the image, to convert it to a convenient format for a future export of the
                    image to another cloud (or to another region of the Rackspace cloud), and to transfer the exported image
                    to your Cloud Files account. This activity takes some time.</para>
            </listitem>
            <listitem>
                <para>Poll the task status using <phrase condition="dev"><olink targetdoc="ci-devguide"
                            targetptr="GET_getTask_tasks__taskID__Image_Task_Calls"
                            >"GET_getTask_tasks__taskID__Image_Task_Calls"</olink></phrase>
                    <phrase condition="gs">
                        <link xlink:href="http://docs.rackspace.com/images/api/v2/ci-devguide/content/GET_getTask_tasks__taskID__Image_Task_Calls.html">
                        Section 4.4.2. "Get Task Details"</link>
                        of the &CImDG;</phrase> until the task completes.</para>
            </listitem>
        </orderedlist>
    </para>
</section>
