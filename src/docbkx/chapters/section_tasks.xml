<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE application [<!ENTITY % common  SYSTEM "../../common/common.ent">
%common;]>

<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="ch_image-tasks">
    <title>Image Tasks (Importing and Exporting Images)</title>
    <para>A <glossterm baseform="JSON">image task</glossterm> is a request to perform an asynchronous image-related
        operation, such as importing or exporting an image. The request results in the creation of a disposable task resource
        that can be polled for information about the status of the operation.</para>
    <para>When the task resource reaches a final status of <code>success</code> or <code>failure</code>, the poll reponse
        will include an expiration timestamp. After that expiration time, the disposable task resource itself expires and is
        subject to deletion. However, the result of the task, such as an imported or exported image, does not expire.</para>
    <para>To import an image, do the following: <orderedlist>
            <listitem>
                <para>Put the image into your Cloud Files account.</para>
            </listitem>
            <listitem>
                <para> Submit the import request (see <olink targetdoc="ci-devguide"
                        targetptr="POST_taskImport_v2_tasks_Image_Task_Calls"
                        >POST_taskImport_v2_tasks_Image_Task_Calls</olink>).</para>
            </listitem>
            <listitem>
                <para>The &CImS; will fetch the image from your cloud storage and create a new image for you.</para>
            </listitem>
        </orderedlist>
    </para>
    <para>To export an image, do the following:<orderedlist>
            <listitem>
                <para> Determine the UUID of the image you want to export.</para>
            </listitem>
            <listitem>
                <para>Submit the export request (see <olink targetdoc="ci-devguide"
                        targetptr="POST_taskExport_v2_tasks_Image_Task_Calls"
                        >POST_taskExport_v2_tasks_Image_Task_Calls</olink>).</para>
            </listitem>
            <listitem>
                <para>The &CImS; processes the image, converts it to a convenient format for a future export of the image to
                    another cloud (or to another region of the Rackspace cloud), and transfers the exported image to your
                    Cloud Files account.</para>
            </listitem>
        </orderedlist>
    </para>

    <!--Task Statuses-->
    <section xml:id="task-statuses">
        <title>Task Statuses</title>
        <para>Image Tasks in the &CImS; can have one of the following statuses when polled:</para>
        <variablelist>
            <varlistentry>
                <term><emphasis role="bold">pending</emphasis></term>
                <listitem>
                    <para> The image task is waiting for execution.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><emphasis role="bold">processing</emphasis></term>
                <listitem>
                    <para> The image task is processing.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><emphasis role="bold">success</emphasis></term>
                <listitem>
                    <para>The image task completed successfully.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><emphasis role="bold">failure</emphasis></term>
                <listitem>
                    <para>The image task completed unsuccessfully.</para>
                </listitem>
            </varlistentry>
        </variablelist>
    </section>
</section>
